マルチメディア系では帯域が足りない!

今の自動車の電動化においては，既存の車載ネットワーク規格で，車両システム全体の通信と制御が辛うじて成り立っています．
パワー・トレイン系やボディ系という領域ごとに，CAN FD やCAN，LINなどの通信でやりくりしています（図1）．

・マルチメディア系…FlexRay/MOST/BroadR-Reach/1000BASE-T1
・ボディ系…LIN/CXPI
・シャシ系…CAN/CAN FD/CAN XL/10BASE-T1s
・パワー・トレイン系…CAN/CAN FD/CAN XL/10BASE-T1s
図1　各制御系と通信規格

● 自動運転時代には明らかに帯域不足に

ADAS（先進安全機構による運転アシスト）の装着義務化や，
自動運転の実用化が近づく中で，現状の機器を制御するための通信インフラでは，
圧倒的に車内の通信帯域が不足している現状が浮き彫りになってきました．

ADAS機能の実現においては，パワー・トレイン系やシャシ系のECUが，
カメラやバック・ソナーなどのボディ系ECUと協調して，
車両を1つのシステム（図2）と見立てて，動作の協調制御を行う必要があります．
さらに自動運転が本格的になれば，車内だけでなく，
携帯電話基地局やクラウド・サーバとの連携を行うコネクテッド系統との接続も求められます．

（a）旧来の分散型
（a）旧来の分散型
図2　車両ECU の構造…これからは車両を1 つのシステムと見立てて動作を協調制御する流れがある

● 一説では1 日4T バイト必要とも

ある米国の車両メーカが市場に投入中の自動運転系ECUを搭載した車両を例に取ると，
15種類のECUに接続される50個のセンサが稼働しており，1日当たりの取得データ量は実に4Tバイトとのことです（表1）．

表1（1）車に搭載されるデバイスと通信レート
デバイス    レート［bps］
カメラ      20M〜60M
レーダ      10k
ソナー      10k〜100k
GPS         50k
LiDAR       10M〜70M

● CAN やCAN FD では歯が立たない
取り扱うデータ量の増大を見越して，先行していたCAN を機能拡張してデータ・レートを可変に，
1回当たりのデータ量を64バイトまで拡張したCAN FDや，
LIN/CANとは異なるネットワーク・トポロジを構築して10Mbpsを超えるデータ転送量を実現したFlexRay，
MOSTという車載向けネットワークの開発がなされ，現在主要な車メーカでは，これらを使った市販車が販売されています．
ただし，いくら最大10Mbps，規格上は5Mbpsの通信帯域を持つCAN FDと言えども，
カメラ・モジュールやレーダ/LiDARなどの映像系システム向けのデータ伝送には，全く帯域が足りませんし，
何よりもCAN/CAN FD はECU に登録された若いID ほど優先権を持つ優先順位式のアービトレーションを採用しています．
そのために大きいIDのECUが突発的なデータ転送を要求したとしても，優先順位を変更する術がなく，
後回しになる可能性があります．

● カメラやLiDARの帯域は50M 〜70Mbps
自動運転になって真っ先に思いつくであろうセンサは，カメラ映像入力とレーダ/LiDARではないでしょうか．
カメラは車周辺の映像を取得する目的に使い，レーダやLiDARは対象物までの距離を測るものとして，
両方のセンサが自動運転の目の役割で使用されることになります．
米国で運用中の自動運転系ECUでは，カメラで50Mbps強，レーダとLiDARで70Mbps強の通信帯域が必要です．
それでも使える画質はせいぜい720p/30fpsにも満たず，
直近で目指す1080pや4Kカメラ（60fps）でリアルタイム・データを送ることを満たせません．

● MOST は50M 〜150Mbps 出るがネットワーク構成が複雑
このような高速データ転送に使用される車載ネットワークとしては，FlexRayとMOSTの2 種類があります．
ただし，FlexRayは10Mbps帯域であるため，残念ながら帯域不足です．
FlexRayは制御向けに規格が策定されているために，カメラ映像などの大量のデータを，
一定時間内での伝送帯域を保証しつつ転送する（アイソクロナス転送）用途には向きません．

また，CAN FDやFlexRayの通信帯域を大幅に超える性能を持つものはMOSTです．
MOSTは，その名が示す通り高帯域車載マルチメディアのネットワークとして，
実質的にデファクト・スタンダードの立場となり，
最大50Mbpsのデータ転送速度を規定したMOST50は各国の車載メーカで採用がされています．
ですが，MOST50は高価なハーネスを使っても最大50Mbpsであり，辛うじて1チャネルのカメラ映像のみを伝送できる程度です．
2007年に策定されたMOST150はデータ・レートが150Mbpsです．
この規格は，光ファイバ，同軸ケーブル，非シールドのツイストペア・ケーブルの3つに対応しており，
インターフェース用LSIも数社が提供している状況です．
これを利用する手もあります．
ただし，ISO 21806で標準化を目指しているとは言え，いまだ規格のオープン化がなされていません．
またMOSTは冗長性と応答速度を考慮したリング・トポロジのネットワーク構造を取るために，
LIN/CANのような簡易的なバス・トポロジが組めません．
そのため故障時に切り離しを行うことに難があり，ハーネス・コストの増大という課題も残ります．
そうこうしているうちに，以下の高速かつ安価なソリューションが登場しました．

● 民生技術のイーサネット規格（100BASE-T1/1000BASE-T1）が検討される

民生で広く利用されているネットワーク規格と言えば，なじみがあるのが100BASE-TXや1000BASE-Tといったイーサネット規格です．
この技術を車載に取り入れようという試みは以前からありました．
例えば欧州の車両メーカでは，車両に用意したイーサネット・ポートを利用し，
サービス・センタや修理工場での機器診断やメンテナンスを行ったり，
数百MバイトにもおよぶECUのファームウェア・アップデートに使われています．
ところが，民生用途であるこのネットワークでは，カテゴリ5やカテゴリ6という多芯線のケーブルや，
機械的強度に不安のあるコネクタを用いることになります．
さらに，ケーブルのコストアップ対応やスイッチ機器の放射ノイズ対策などが必要となります．
そして，何よりもイーサネットのポートを開けたままでは，セキュリティの脆弱性があることから，
運転中に稼働するECU機能への採用には至っていません．
同じ理由からWi-FiやBLEなどのワイヤレス規格を使えばハーネスは軽くなるはずですが，
重要部位では研究段階のままで採用には至っていません．

● 100BASE-TX を車向けに改良したBroadRReach

2015年，ブロードコムが開発した新技術「BroadRReach」はイーサネットの車載向けを具現化しました．
BroadR-Reachは，民生用で広く用いられている100Mbpsの転送速度を持つイーサネット規格100BASETX（IEEE 802.3u）を基に，
車載ネットワークの要望に見合うように改良したものでした．

▶わずか2本のより線で100Mビットのデータ・レート

特徴として通信線に必要なケーブルの本数が挙げられます．
通常のイーサネットでは，送信/受信で2ペア4線，または100BASE-T4では4 ペア8 線の信号線が必要になります．
BroadR-Reachでは，コストがとても優先される車載向けに，
1ペア2線の信号線で送受信が同時に行える全2重方式の通信ができるように物理層を改良しました．
実は10M 〜100Mbps級の通信帯域を持つ車載ネットワークでは，従来からFlexRayやMOSTが用いられています．
これらの車載ネットワーク規格では，冗長性と信頼性確保のために，1ペアないし2ペアのツイストペア・ケーブル信号線で構成され，
ケーブルからの電磁波漏えいを防ぐことも考慮して，ハーネス（電装ケーブル）が高価で重いものを使用する必要がありました．
それが1ペアのツイストペア・ケーブル，わずか2本のより線で100Mbpsのデータ・レートで伝送が実現できるようになります．
また，論理層以上のレイヤ，例えばTCP/IPやUDPなど広く知られているプロトコルがそのまま利用できる点も大きな特徴です．
デバッグ手法も従来のイーサネット・デバッグ手法が用いられるため，ソフトウェア・レイヤの開発を行うだけであれば，
後述するメディア・コンバータ以外の専用機材を用意する必要はありません．
以上のことから物理層のみ切り替えることで，民生用と車載用で車載ネットワークが使用できるようになりました．

▶デバッグには民生の装置が使える
筆者らは2016年に，ドイツに本拠地を置く車載ネットワークの第3者認定機関であるC&Sグループにて，
ある半導体メーカ製のBroadR-Reach物理層の評価現場視察を行いました．
現場では装置のデバッグに，ネットワーク・アナライザとして広く知られるWireshark，
一般的なディジタル・オシロスコープ，100BASE-TX用プロトコル・アナライザを用いていました．
つまり，開発フェーズだけでなく評価フェーズも民生技術やその作業リソースを用いることができます．
こうした背景からBroadR-Reach規格は，高性能な車両向けとして徐々に評価が行われると同時に，
100Mbpsの転送速度を持つIEEE 802.3bw/100BASE-T1として正式に標準化がなされました．

● G ビット向けも検討されている
これから普及するADASや自動運転を見据えて，Gビット・オーダの車載ネットワーク規格も切望されています．
例えば先進安全装備向けのLiDARからの信号を，GPUやSoC，FPGAで構成されるADAS集中制御ECUと接続する場合です．
このような用途に対して，民生では既に先行していた1Gbpsの転送速度を持つ1000BASE-Tも，
車載ネットワーク向けではIEEE 802.3bpとして国際規格になりました．
1000BASE-T1になると，10Mbpsの通信帯域を持つFlexRayや，
もっと高速であるMOSTの25M/50M/150Mbpsであっても，十分にカバーできてしまいます．
そして冗長性や信頼性を考えて高価な2ペアや4ペアのツイスト・ペアが要求されるFlexRayやMOSTとは異なり，
100/1000BASE-T1では1ペアの差動ツイストペアで済みます．
まるでCAN/CAN FDと同様な信号線で十分というわけです．
ましてやクローズドなネットワーク規格であり，採用に当たって情報収集が困難なMOSTに比べて，
国際規格で策定されソフトウェアやミドルウェアは既に用意されているイーサネット系の規格が広まるのは自然なことと思います．
現状ではFlexRayやMOSTがマルチメディア系の車載ネットワークとして実用化されていますが，
いずれ100BASE-T1や1000BASE-T1にとって替わるでしょう（表2）．

表2　マルチメディア系の車載ネットワーク・プロトコル比較

項目                            プロトコル名称
                                FlexRay             MOST                100BASE-T1  1000BASE-T1  
データ・レート［Mbps］              10               25，50，150           100         1000
1 回当たりのデータ転送長［バイト］   254               24 〜56                 64 〜1500
ケーブル種類                      UTP × 2            光ファイバ               UTP × 1
                                                    同軸
                                                    UTP
ネットワーク構造                  バス                バス                  バス
                                ポイントto ポイント   リング                ポイントto ポイント

＊　　　＊　　　＊
　もちろん，自動運転系で要求されるネットワーク性能は，
何もデータ・レートが高速であれば良いというものではありません．
たとえ低速でも，応答性能がずばぬけて速いことや，診断機能用途としての能力を持つもの，
また送受信の信頼性やセキュリティ能力に優れているものなど，使用される部位によって要求される性能が異なります．

////////////////////////////////////////////////////////////////////////////////
シャシ系やボディ系ECU を支えるネットワーク
////////////////////////////////////////////////////////////////////////////////
● ボディ系ECU は今後も増え続ける
モータやアクチュエータのような機構部品とマイコンなどの電子部品が融合することを機電一体注1と呼んでいます．
現状では大衆車であっても優に60個を超えるモータが使われていますが，
これらモータのほとんどはLINやCANインターフェースを搭載したマイコンのGPIOを利用して制御します．
これら多くのモータの用途はシャシ系ですが，今後はボディ系が増えます．
乗用車に搭載されているECUをパワー・トレインやシャシなどの種類別個数で比較しても，ボディ系ECUで優に半数を超えます．
シャシ系やボディ系のECUは単純な機能であるが故に製品単価こそ他のECUよりも安価なものの，
同一の機能を持つECUが複数箇所にわたって実装される場合が多いためです．
例えばASEAN地域では，つい数年前までサイド・ミラーでさえも手で操作していましたが，
最近は全てモータ内蔵タイプになっています．
また，シートの電動化も，中級車以上は標準仕様となり，今後は大衆車にも採用されることでしょう．
何よりも高級車では一般的なリア・シートのエアコン機能は，全車への装備が切望されています．
このことから，機電一体の流れが今後も続きますし，同時にLINやCANに接続されるECUの数も増加の一途をたどります．

● 主流はCAN とCAN FD…1M 〜5Mbps

2021年現在，市販されている車両に用いられている車載ネットワークの主流はCANとCAN FDです．
IEEE 11898で規格化されているCANの通信速度は最大で1Mbpsであり，
同じくCAN FD では最大5Mbps（ただし，IEEEの規格上では最大2Mbps）となっています．
もともと1990年代後半に標準化されたCANですから，現代の技術的要求を満たすことはできず，
より高速にデータの送受信が行えるようにCAN FDではデータ・レートの改良が行われました．
前述のLINやここで紹介してるCANはあまりに広く標準的に使用されていることはご承知の通りです．
また，既に開発済みのECUだけでなく，今までGPIO方式のスイッチやLEDをマイコンが制御していたものも，
今後はECUの集中統合化でLINやCANでスイッチや機器類を制御することになっていくことでしょう．
反面，CAN FDよりも高速な車載ネットワーク・インターフェースを考えた場合， 
辛うじて10Mbpsまで扱えるFlexRayか，車載ネットワークの本命である100Mbps送受信を実現する前述の100BASE-T1があります．
ですが，これらはCANのインフラそのものが流用できないことや，これまで蓄積されたソフトウェアとの互換性を考慮すると，
CANからCAN FD に拡張したように，CAN FD の上位互換機能が待ち望まれます．
つまり，CAN FDと（ 仮に普及が進むとして）100BASE-T1との間のギャップを埋めるために，
新しい車載ネットワークの標準規格が欲しいわけです．
2M 〜5MbpsのCAN FDと，100Mbpsの100BASET1とのギャップを埋めるために，
2020年当たりからCAN XL と10BASE-T1Sという2 つの新規格を標準化する作業が，
欧州OEMメーカやサプライヤを中心に行われています．

● CAN の次は10MbpsのCAN XL

CAN XL は従来からあるCAN FD の進化型であり，ここでは細かな解説は行いませんが，拡張された主機能を以下に述べます．

・データ・フェーズ送受信中のデータ・レートをCAN FD の最大5Mbps（規格上では2Mbps）から，CAN XLでは最大10Mbpsに向上した．
・データ・フレーム長がCAN FDの最大64バイトから，CAN XLでは最大2048バイトに拡張された．
・データ信頼性向上のためフレーム・チェックやCRCによるエラー・チェック機能が，CAN XLではより強固なものになった．
・ただし，CAN FDと同じようにリモート・フレームは非採用とし，データ・フレームのみ使用．
  かつ11 ビット長の標準ID（Standard-ID）のみが利用可能となった．

むろん，CAN XLは現行規格のCAN FDと同じように，
CANのワイヤ・ハーネスや物理的に電気信号系に近いインターフェース部分さえ合わせ込めば流用可能な部位は多々あります．
現在使用されている車載インフラを流用して，
より高速でECU のファームウェア・アップデートや診断機能（ダイアグ）を支えるバックボーンとして期待されています．
これが可能になった理由は，CAN FDのデータ・フレーム内にある従来ではリザーブ（ドミナント）と
されていたビット位置にCAN XLのフレームを示すビットが追加されたことであり，
今後もさらなる機能拡張ができるように，CAN XLフレーム・ビットの「次の位置」にリザーブ・ビットが追加されています．
標準化された時点でまた紹介したいと思います．

● イーサネットの良いところを取り入れた10BASE-T1S

10BASE-T1Sは，100BASE-Tと同じようにイーサネットそのものです．
ただしT1Sと追記されたSは，短距離を意味するShort-Rangeの頭文字であり，
10BASEや100BASEのように1kmといった長距離（Long-Range）を保障するものではありません．
10BASE-T1Sでは25mまでの配線線路を10Mbpsのデータ・レートで送受信します．
25mの距離があれば，一般的な乗用車の特定箇所に集中するちょっとしたECU間通信であれば問題ないでしょう．
特徴としてはCANやCAN FDのように，ネットワークにつながるECUがバス接続で行えるという点です．
民生で多用される100Mイーサネットや車載用の100BASE-T類の多くが，
スイッチで接続される形であり，バスにぶら下がることはできません．
10BASE-T1Sでは接続を容易にするため，このバス型のネットワーク・トポロジを採用することで，
スイッチにかかるコストやECUの増設/削除に伴うメンテナンス・コストを下げることができました．
また，規格的に送信機能と受信機能を交互に行う半二重通信にしたことで，
おのおののネットワーク処理回路構成の簡素化が期待できます．
CAN XLと10BASE-T1Sの両規格は策定途中にあります．
公式な伝送線路の仕様，推奨される物理層のインターフェースLSI，
他の車載ネットワーク規格との性能比較など詳細な情報は公式には発表されていません．

● 存在感を増していくCAN XLと10BASE-T1S

ハーネスや設置コスト，ソフトウェア開発/検証工数的に見て，
車載ECUの全てが超高速なGビット・オーダの1000BASE-Tを前提として作られるわけではありません．
例えばエアコンのON/OFFやLEDの点滅に超高速で大容量のデータ通信が必要な理由がないからです．
運用時における車載組み込みシステムの実に8割の入出力が１Mbps以下のデータ・レートで駆動されていると言われています．
それとてADAS装着の義務化や自動運転の普及で，
現在のCAN FDやFlexRayから今後は主要な車載ネットワークの伝送帯域が10M 〜100Mbps級に置き換わることでしょう．
それと同時に運転手や乗客が直接操作をする部位（HMI：Human-Machine-Interface）が
現在の中〜低速な車載ネットワークから一気に高速なネットワークに置き換わることもなく，現在と同じく今後も利用されることでしょう．
CANからCAN FD に移り変わっても，LINがまだまだ使われる…という現状です．
むしろ従来のスイッチ入力やLED出力，各種センサ類をメカトロニクスとエレクトロニクスの融合による機電一体の流れで，
これら入出力部位を集中管理するために，何らかのバス上に配置する必要があります．
その流れの中で，帯域的にCAN FDよりも余裕がありCAN/CAN FDのインフラが利用できるCAN XLと，
イーサネットの使い勝手と車載向けとしてのバス接続が可能である10BASE-T1Sは，
中低速の車載ネットワーク領域でより存在感を増していくものと思われます（表3）．

表3　
シャシ系/ボディ系ECU 向けコントロール・ライン用車載ネットワーク・プロトコル比較

項　目                          プロトコル名称
                                    CAN       CAN FD    CAN XL      10BASE-T1S
データ・レート［bps］               125K〜1M    1M 〜5M   2M 〜10M     10M
1 回当たりのデータ転送長［バイト］    0 〜8      ０〜64    ０〜2048      64 〜1500
ケーブル種類                        UTP × 1    UTP × 1   UTP × 1      UTP × 1
ネットワーク構造                    バス        バス      バス          バス
                                                                      ポイントto ポイント
////////////////////////////////////////////////////////////////////////////////
スイッチやライトなどのON/OFF にCXPI
////////////////////////////////////////////////////////////////////////////////

● CAN では高価，LINでは性能が満たせない

車載機器の電動化が加速している現状でも，
スイッチ入力やLED/ライトの点灯出力では，従来型のディジタル入出力で十分な用途があります．
むしろディジタル入力と，必要に応じてマイコンで済ませることができれば，
コストも最小で済みますし
何よりも従来のLINやCANのようなネットワーク下に接続することでリアルタイム性が損なわれることはありません．
特に，スイッチを操作したらすぐに動作するという機器，
例えばエアコンやルーム・ライト，ワイパ，ヘッドライトなどのボディ系ECUの多くは今後も増え続けます．
そしてこれらの多くが，マイコンと操作部や表示部を1 対1 で接続しています．
昨今のルーム・ライトはこの1対1接続の代表例です．
ルーム・ライトのECUは，1つのマイコンで1つのLEDやライトを制御しますが，
LINバスや1-Wireバスなどに接続されて操作パネルから集中制御されるれっきとしたECUです．
それらが乗用車の中には少なく見積もって6 〜8 個実装されています（図3）．
これらのECU制御に対してCANで接続することは可能ですが，
標準的なCAN通信を実現するマイコンとその周辺回路のコストはLINと比較すると高価であり，
加えてソフトウェア開発のコストも高価です．さらにハーネスも高価です．
従ってルーム・ライトの制御にCANを採用するわけにはいきません．
ではLIN通信はどうかと言うと，LIN通信独自のアービトレーション方式に課題があり，
エアコンならエアコン，ルーム・ライトならルーム・ライトというような機能に特化したLIN ネットワークを組まなければ，
性能は達成できません．
全ての低速ネットワークECUを一元管理することはできないというわけです．
ここで言う性能とは応答性です．
LINのネットワーク・トポロジはバス接続方式であり，
1つのマスタ・ノードが複数のスレーブ・ノードに時分割で呼びかけを行います．
逆に言えば呼びかけが来るまで応答できません．
例えばスレーブ・ノードの1 にスイッチ入力，2にLEDライト出力となるLINバスがある場合に，
「ノード1 からスイッチ入力が来たから，ノード2 に接続されているLEDライトを点灯してください」という
一連の流れは，マスタ・ノードによるポーリング処理型のアービトレーションで行われるため，
スイッチを押下してからLEDライトの点灯までに実に長い時間が必要となります（図4）．
応答遅延時間はノード数に依存するため，8個程度の車内ライトであっても，
最低320msはかかることでしょう（1ノード当たりの反応速度を40msと仮定）．
このようにCAN/CAN FDでは性能的に満たしているものの導入コストに難があり，
LINでは導入コスト的には優位性があるものの性能が満たせないという悩みがあるわけです．

● CAN の応答性能をLIN のハーネスのまま実現したCXPI

そこで，CANと同程度の応答性能を，LINのハーネスのまま実現できないかということで，
日本の名だたるTier1メーカであるデンソーがCXPI（Clock ExtensionPeripheral Interface）という新規格を開発しました．
CXPIは2020年にISO 20794-2:2020という名称の標準規格になりました．
公表されている資料によると，ライトやドアなどのスイッチ入力，シートや速度感応式ワイパの制御など，
従来1対1でつなげていた機器の車載ネットワーク化を想定しています．
通信仕様としては，ほぼCANに用意されている標準データ・フレームを基に，以下の点でLINに比べて改良されています．

・アービトレーション方式がLINで採用されているポーリング方式に対し，CXPIはCANと同様な優先順位方式．
・LINはチェックサムによるエラー検出だが，CXPIはCANと同じようにCRCを使用し，データ信頼性が増した．
・1フレーム当たりの送受信データ・サイズがLINの最大8バイトからCXPIでは最大255バイトに拡大された．

なお，CXPIはLINと同じように標準的なUART（非同期シリアル通信，20kbps）でプロトコルを実装しています．
CANのように専用IC を必要としません．
LINとCANの良いとこ取りをしたCXPI規格（表4）は，
運転手や乗客が利用するボディ系ECUの一部機能をネットワーク管理下で接続したいという用途への利用が期待されています．

表4　ボディ系ECU 用低速車載ネットワーク・プロトコル比較
項　目                                  プロトコル名称
                                LIN 1.x                  LIN 2.x                CXPI
データ・レート［Kbps］              2.4，9.6，10.4，19.2   20 以下                 20 以下
1 回当たりのデータ転送長［バイト］   1 〜8                  1 〜8                   0 〜12（通常），
                                                                                 0 〜255（オプション）
ケーブル種類                       １線式                 １線式                    １線式
ネットワーク構造                    バス                   バス                     バス
チェック方法                      データ・フレームのみの    ID とデータ・フレームを     8 ビットCRC（通常），
                                 チェックサム             含めたチェックサム          16 ビットCRC（オプション）

● スイッチやライトのON/OFFでさえも管理しておきたい理由

そもそも論ですが，スイッチやライト点灯，また即応性の必要なパワー・ウィンドウ・モータの駆動系統のこれら入出力デバイスを車載ネットワーク下で管理
したいという意図はどこにあるのでしょうか．
それは自己診断機能です．
車に搭載されたECU機能の故障予兆や故障検出が自動運転の時代には必要とされるからです．
ルーム・ライトの例で見ると，現状では搭乗員がスイッチを押下して点灯または消灯しなければ故障と判断しますが，
ボディECUは知る術がありません．
LED点灯時と消灯時の順方向電流を測定すればLED短絡や定電流回路の故障が検出できますが，
まだそのような機能はコスト的に実現には至らないですし，
ライトの故障が即時に人体や車に致命的な問題になることもないので，
ADASや自動運転を差し置いて急いで実装する機能とはなっていません．
ただ，将来的には車内カメラや人体感知センサと連携して，パワー・ウィンドウの開閉で人体の挟み込みを検出した際に，
患者の状況に応じて携帯電話などを使って最寄りの病院を自動検索し，
状況を通知するような用途も考えられます注2．ですが，
車両機能のさらなる電動化やその進化の先にある自動運転系のECUが稼働することで，
ますます運転手や乗客が搭載機能を理解せずとも使いこなす時代が来るでしょう．
すると，車両システム側が運転手に成り代わって，運行前の点検や運行途中での故障予兆の検出などを行う必要があります．
このような要求に対して，全ての車載機器が何らかの車載ネットワークに接続されて必要に応じて診断機能に応答する必要が出てくる場面は，
そう遠くない未来においてあるでしょう．

////////////////////////////////////////////////////////////////////////////////
1 対1 の接続には基板高速伝送技術LVDS が良さそう
////////////////////////////////////////////////////////////////////////////////

● 複数のカメラやLiDAR の情報転送には100Mbps でも足りない

自動運転系や運転支援では， 
複数のカメラやLiDARをセンサ入力として100Mbpsをはるかに超えるデータ・レートで滞りなく伝送する必要があります．
利用されそうな民生デバイスとしてフルHD（1080p）のカメラや4Kディスプレイがあります．
これらカメラや4Kディスプレイが自動車内で，
前記の100/1000BASE-Tのようなイーサネット規格で伝送されるかと言うと，そうではありません．
カメラからの映像データをイーサネット経由で伝送するには，RGBやYCbCr映像情報以外にも，
送信先/送信元のヘッダ情報やCRCなどフッタなどの追加情報がありますし，
数Kバイトごとの送出データ分割やセキュリティを考慮する必要もあります．
さらにイーサネットのパケット処理LSIが必要です．
100/1000BASEのネットワークは外部の機器間との接続に使われるネットワークだからです．
同じようにPCなどの映像機器と4Kモニタ間で映像伝送を行うための規格としてDVIやHDMI，USB Type-Cがありますが，
1つのシステムや1つのボード上のインターフェースには使用されません．
外部機器の接続用ネットワーク規格を1つの筐体内で完結する電子回路のインターフェースとして採用するには，過剰性能というわけです．
筆者の経験では，これら基板上でのデバイス同士の接続には，
GSMLやFPD-LINK，MIPI-CSI，MIPIDSIと呼ばれる映像用のインターフェースを用います．
これらインターフェースは，一方通行のデータ垂れ流しに特化しており，カメラ映像やLiDARデータの送出に適しています．
現在，自動運転系やADAS系のECUを中心に，これらの映像用インターフェースが取り入れられています．

● 小振幅差動伝送技術 LVDS に注目が集まる

車載向けに開発されたわけではありませんが，
CAN/CAN FD や100BASE-T1と同じように2 本のツイストペアを使用した伝送線路としてのLVDSが，
車に搭載される事例を紹介します．
昨今市場の広がりを見せている先進安全走行の支援システムである
ADAS系ECUや，人工知能を使って自動運転を実現するに当たり，
カメラ・モジュールやレーダ/LiDAR類の各種センサから膨大なデータをECU側に送信するためには，
旧来の車載インターフェースは全くもって帯域が足りません．
4K/30fps解像度のカメラを用いてECUに映像を取り込みたい場合には，
1カメラ当たり圧縮時で50Mbpsを超え，RAWデータ（生データ）では実に8Gbpsになります．
特に自動運転系では解像度だけでなくフレーム・レートが重視されます．
自動車は時速80kmで走行した場合，1秒当たり22m進みます．
自動運転系のECUは前方方向を常時監視し，障害物などに素早く反応するためにフレーム・レートが重要視されます．
そこで，これまではカメラと基板間で用いていたLVDSの使用範囲を，車載品質を満たしたうえで，
もっと広げて活用しようと，半導体，測定器，車両メーカが一緒になり，共同開発や評価を行っている状況です．
例えばマキシム・インテグレーテッドのGビット・シリアル・マルチメディア・リンクと呼ばれるGSML/GSML2や，
テキサス・インスツルメンツのフラットパネル・ディスプレイ用のインターフェースとして開発されたFPD-LINK1/2/3が実車採用されました．これらは
もともと，基板と液晶パネル間のHDMIやCameraLINKのような用途で，
2.5Gbps/5.0Gbpsなどの画像伝送用に開発され，進化してきた差動インターフェースです．
両者ともにLVDSの類いです．
従って通常，LVDSで採用される1対のツイストペア・ケーブルによる伝送線路はもとより，
PoC（パワー・オーバ・コアキシャル）と呼ばれる同軸ケーブルに電源を供給した電力重畳型の伝送線路であってもデータ伝送が可能です．
最近の高級車では，サイド・ミラーやバック・ミラーをカメラと液晶に切り替えたミラーレス・カメラ機能として導入され始めています．
これら機能の多くは先に述べたPoCを用い，
FAKRAコネクタと呼ばれる欧州での車載向けで広く使用されているコネクタで接続するものが多く見受けられます．
筆者も両インターフェースともにそれぞれ専用のカメラ・モジュールを用いた評価向けの開発を行っており，
2.5Gbps/15mの伝送線路を用いた評価製品で実車試験を行ったことがあります（写真1）．
そして，GSMLやFPD-LINK3 は，1対1 の接続であればあらゆる信号を送受信できることから，
カメラの映像信号やディスプレイの表示信号の送受信だけでなく，
レーダやLiDARセンサ・モジュールとECU間の伝送路などの数Gbpsがどうしても必要な部位に活用されています．

● まとめ
民生でもイーサネットが主流とはいえ，いまだRS-232 やRS-485 が，また，工業用途でRS-488，S/PDIF，
TOSLINKなどのさまざまなネットワーク規格が使われ続けています．全てがイーサネットに集約されるものではありません．

